language: java

jdk:
  - openjdk11


build:
  ci:
    - echo $GOOGLE_CLOUD_REPO_INTEGRATION_JSON_KEY
    - ./gradlew publish
    - echo "versionName=$BRANCH.$BUILD_NUMBER" >> $JOB_STATE/mybeehive-rest-api_image.env

branches:
  only:
    - master

integrations:
  notifications:
    - integrationName: slack_development
      type: slack
      recipients:
        - "#development"